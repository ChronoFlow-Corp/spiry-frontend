<div class="shared-ai-input__wrapper f-col w-100">
  <textarea
    #input
    type="text"
    class="shared-ai-input__input w-100"
    placeholder="What do you want to know?"
    [(ngModel)]="$inputValue"
    (ngModelChange)="$inputValue.set($event)"
    (keydown)="handleKeyDown($event)"
  ></textarea>

  <div class="shared-ai-input__actions f-ai-center w-100">
    <div class="shared-ai-input__actions-left-side">
      @let templateShowWebSearchTooltip = $showWebSearchTooltip();

      <div
        class="shared-ai-input__action shared-ai-input__action-web"
        [class.shared-ai-input__action-web-active]="$webSearchEnabled()"
        [class.shared-ai-input__action-show-tooltip]="
          templateShowWebSearchTooltip
        "
        (mouseenter)="$showWebSearchTooltip.set(true)"
        (mouseleave)="$showWebSearchTooltip.set(false)"
        (click)="toggleWebSearch()"
      >
        <button class="f-center w-100 h-100 c-pointer">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
          >
            <path
              d="M4.71159 7.99967C4.7116 7.29446 4.74956 6.6091 4.81608 5.95573H1.6071C1.40116 6.60027 1.28877 7.28682 1.28874 7.99967C1.28874 8.47192 1.33853 8.93291 1.43132 9.3776H4.75944C4.72944 8.92949 4.71159 8.46883 4.71159 7.99967ZM6.13932 10.6217C6.26921 11.5189 6.46076 12.3173 6.69889 12.9723C6.92578 13.5963 7.18189 14.0577 7.43425 14.3512C7.62479 14.5728 7.78079 14.6651 7.89714 14.6969L7.99968 14.7116C8.11829 14.7116 8.31199 14.6468 8.56608 14.3512C8.81842 14.0577 9.07359 13.5962 9.30046 12.9723C9.53863 12.3173 9.73111 11.519 9.861 10.6217H6.13932ZM1.82096 10.6217C2.58247 12.4142 4.10087 13.8066 5.97526 14.3991C5.81011 14.0957 5.66122 13.7591 5.52995 13.3981C5.24304 12.6091 5.02437 11.6642 4.88444 10.6217H1.82096ZM11.1159 10.6217C10.976 11.6643 10.7573 12.6091 10.4704 13.3981C10.3391 13.7592 10.1893 14.0956 10.0241 14.3991C11.8988 13.8067 13.4178 12.4145 14.1794 10.6217H11.1159ZM10.0251 1.60026C10.1903 1.90376 10.339 2.24104 10.4704 2.60221C10.6947 3.21924 10.8756 3.93191 11.0124 4.71159H13.8493C13.022 3.24324 11.6596 2.11701 10.0251 1.60026ZM7.99968 1.28874C7.8811 1.28885 7.6879 1.35325 7.43425 1.64811C7.1819 1.94163 6.92577 2.40312 6.69889 3.02702C6.52145 3.515 6.37073 4.08295 6.25065 4.71159H9.74968C9.62959 4.08292 9.47791 3.51501 9.30046 3.02702C9.0736 2.40323 8.8184 1.94159 8.56608 1.64811C8.31213 1.35284 8.11825 1.28874 7.99968 1.28874ZM5.97429 1.60026C4.34002 2.11708 2.97822 3.24348 2.15104 4.71159H4.98796C5.1247 3.93189 5.30558 3.21925 5.52995 2.60221C5.66124 2.24115 5.8091 1.90369 5.97429 1.60026ZM5.95573 7.99967C5.95573 8.4726 5.9738 8.93344 6.00554 9.3776H9.99479C10.0265 8.93345 10.0446 8.47259 10.0446 7.99967C10.0446 7.2855 10.0055 6.59946 9.93522 5.95573H6.06511C5.99482 6.59947 5.95574 7.28549 5.95573 7.99967ZM11.2887 7.99967C11.2887 8.46883 11.2709 8.9295 11.2409 9.3776H14.569C14.6618 8.93293 14.7116 8.47189 14.7116 7.99967C14.7116 7.28686 14.5991 6.60025 14.3932 5.95573H11.1842C11.2508 6.60909 11.2887 7.29447 11.2887 7.99967ZM15.9557 7.99967C15.9557 12.3934 12.3934 15.9557 7.99968 15.9557C3.60609 15.9556 0.0445976 12.3933 0.0445976 7.99967C0.0447737 3.6062 3.6062 0.0447724 7.99968 0.0445964L8.40983 0.054362C12.613 0.267639 15.9556 3.74354 15.9557 7.99967Z"
              fill="var(--icon-neutral-tertiary)"
            />
          </svg>

          <div class="shared-ai-input__action-tooltip">
            <p class="shared-ai-input__action-tooltip-text">Search in Web</p>
          </div>
        </button>
      </div>
    </div>

    <div class="shared-ai-input__actions-right-side f-center ml-a">
      @let templateShowDictationTooltip = $showDictationTooltip();

      <div
        class="shared-ai-input__action shared-ai-input__action-voice"
        [class.shared-ai-input__action-show-tooltip]="
          templateShowDictationTooltip
        "
        (mouseenter)="$showDictationTooltip.set(true)"
        (mouseleave)="$showDictationTooltip.set(false)"
      >
        <button class="f-center w-100 h-100 c-pointer">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="18"
            height="18"
            viewBox="0 0 18 18"
            fill="none"
          >
            <path
              d="M3.1199 8.99973V8.25002C3.1199 7.90208 3.40214 7.61984 3.75008 7.61984C4.09802 7.61984 4.38026 7.90208 4.38026 8.25002V8.99973C4.38026 11.5512 6.44837 13.62 8.99979 13.6201C11.5513 13.6201 13.6202 11.5513 13.6202 8.99973V8.25002C13.6202 7.90208 13.9024 7.61984 14.2504 7.61984C14.5982 7.62 14.8797 7.90218 14.8797 8.25002V8.99973C14.8797 12.0343 12.5811 14.531 9.62996 14.8453V15.8701H11.2498L11.3772 15.8824C11.6643 15.9412 11.88 16.1959 11.88 16.5003C11.8798 16.8046 11.6641 17.0585 11.3772 17.1173L11.2498 17.1296H6.74979C6.40208 17.1294 6.12065 16.848 6.12049 16.5003C6.12049 16.1525 6.40198 15.8703 6.74979 15.8701H8.37049V14.8453C5.41917 14.5311 3.1199 12.0344 3.1199 8.99973ZM11.3702 4.49973C11.37 3.19095 10.3086 2.13019 8.99979 2.13019C7.6911 2.13035 6.63041 3.19104 6.63025 4.49973V8.99973C6.63025 10.3085 7.69101 11.37 8.99979 11.3701C10.3087 11.3701 11.3702 10.3086 11.3702 8.99973V4.49973ZM12.6297 8.99973C12.6297 11.0045 11.0046 12.6296 8.99979 12.6296C6.99513 12.6294 5.3699 11.0044 5.3699 8.99973V4.49973C5.37006 2.49516 6.99522 0.870001 8.99979 0.869843C11.0045 0.869843 12.6295 2.49507 12.6297 4.49973V8.99973Z"
              fill="var(--icon-neutral-tertiary)"
            />
          </svg>

          <div class="shared-ai-input__action-tooltip">
            <p class="shared-ai-input__action-tooltip-text">Dictation</p>
          </div>
        </button>
      </div>

      @let templateInputValue = $inputValue();
      <div
        class="shared-ai-input__action shared-ai-input__action-submit"
        [class.disabled]="!templateInputValue"
      >
        <button
          class="f-center w-100 h-100"
          [disabled]="!templateInputValue"
          (click)="submitMessage()"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
          >
            <path
              d="M9.16705 15.8331V6.17784L5.58893 9.75597L5.52643 9.81358C5.1992 10.0805 4.7163 10.0608 4.41119 9.75597C4.08576 9.43053 4.08576 8.90269 4.41119 8.57726L8.82135 4.1671L8.9483 4.05186C9.60292 3.51819 10.5687 3.55699 11.1788 4.1671L15.5889 8.57726L15.6465 8.64073C15.9135 8.96804 15.894 9.45088 15.5889 9.75597C15.2838 10.0608 14.8009 10.0805 14.4737 9.81358L14.4112 9.75597L10.8331 6.17784V15.8331C10.8331 16.2934 10.4603 16.6671 10.0001 16.6671C9.53982 16.6671 9.16705 16.2934 9.16705 15.8331Z"
            />
          </svg>
        </button>
      </div>
    </div>
  </div>
</div>
